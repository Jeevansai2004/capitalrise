{"version":3,"file":"static/js/227.20aed0a6.chunk.js","mappings":"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","sources":["components/Button.js","components/Input.js","pages/ReferralLanding.js"],"sourcesContent":["import React from 'react';\r\n\r\nexport default function Button({\r\n  children,\r\n  type = 'button',\r\n  variant = 'primary',\r\n  loading = false,\r\n  className = '',\r\n  size = 'md',\r\n  ...props\r\n}) {\r\n  const sizeClasses = {\r\n    sm: 'px-2 py-1 text-xs',\r\n    md: 'px-4 py-2 text-sm',\r\n    lg: 'px-6 py-3 text-base'\r\n  };\r\n\r\n  return (\r\n    <button\r\n      type={type}\r\n      className={`btn btn-${variant} ${sizeClasses[size]} ${className}`}\r\n      disabled={loading || props.disabled}\r\n      {...props}\r\n    >\r\n      {loading ? (\r\n        <span className=\"animate-spin mr-2\">⏳</span>\r\n      ) : null}\r\n      {children}\r\n    </button>\r\n  );\r\n} ","import React from 'react';\r\n\r\nexport default function Input({ label, error, className = '', name, ...props }) {\r\n  return (\r\n    <div className={`mb-4 ${className}`}>\r\n      {label && <label className=\"block text-sm font-medium mb-1\">{label}</label>}\r\n      <input\r\n        name={name}\r\n        {...props}\r\n        className={`input ${error ? 'border-danger-500' : ''}`}\r\n      />\r\n      {error && <p className=\"text-danger-600 text-xs mt-1\">{error}</p>}\r\n    </div>\r\n  );\r\n} ","import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport Input from '../components/Input';\r\nimport Button from '../components/Button';\r\nimport toast from 'react-hot-toast';\r\n\r\nexport default function ReferralLanding() {\r\n  const { code } = useParams();\r\n  const [details, setDetails] = useState(null);\r\n  const [upi, setUpi] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [submitted, setSubmitted] = useState(false);\r\n  const [stats, setStats] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchDetails();\r\n    fetchStats();\r\n    // eslint-disable-next-line\r\n  }, [code]);\r\n\r\n  const fetchDetails = async () => {\r\n    const res = await fetch(`/api/referral/${code}`);\r\n    const data = await res.json();\r\n    if (data.success) setDetails(data.data);\r\n    else setError(data.message);\r\n  };\r\n  const fetchStats = async () => {\r\n    const res = await fetch(`/api/referral/stats/${code}`);\r\n    const data = await res.json();\r\n    if (data.success) setStats(data.data);\r\n  };\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    setError('');\r\n    if (!upi.trim()) {\r\n      setError('UPI ID is required');\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    try {\r\n      const res = await fetch('/api/referral/submit', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ referral_code: code, upi_id: upi }),\r\n      });\r\n      const data = await res.json();\r\n      if (!data.success) throw new Error(data.message);\r\n      setSubmitted(true);\r\n      toast.success('UPI submitted! Redirecting...');\r\n      setTimeout(() => {\r\n        window.location.href = data.data.redirect_url;\r\n      }, 2000);\r\n    } catch (err) {\r\n      setError(err.message || 'Submission failed');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (error) return <div className=\"flex flex-col items-center justify-center min-h-screen text-danger-600\">{error}</div>;\r\n  if (!details) return <div className=\"flex flex-col items-center justify-center min-h-screen\">Loading...</div>;\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex flex-col items-center justify-center bg-gray-50 px-2\">\r\n      <div className=\"card w-full max-w-md p-8\">\r\n        <h1 className=\"text-2xl font-bold mb-2 text-center\">{details.loot_title}</h1>\r\n        <div className=\"text-gray-600 text-center mb-4\">by {details.client_name}</div>\r\n        <div className=\"mb-6 text-center text-primary-700 font-semibold\">Earn up to ₹{details.max_amount}!</div>\r\n        {!submitted ? (\r\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n            <Input\r\n              label=\"Your UPI ID\"\r\n              value={upi}\r\n              onChange={e => setUpi(e.target.value)}\r\n              error={error}\r\n              autoFocus\r\n            />\r\n            <Button type=\"submit\" loading={loading} className=\"w-full\">Submit &amp; Continue</Button>\r\n          </form>\r\n        ) : (\r\n          <div className=\"text-success-700 text-center font-semibold\">Thank you! Redirecting...</div>\r\n        )}\r\n        {stats && (\r\n          <div className=\"mt-8 text-xs text-gray-500 text-center\">\r\n            <div>Total Referrals: {stats.total_referrals}</div>\r\n            <div>Total Amount: ₹{stats.total_amount}</div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n} "],"names":["Button","_ref","children","type","variant","loading","className","size","props","_jsxs","sm","md","lg","disabled","_jsx","Input","label","error","name","ReferralLanding","code","useParams","details","setDetails","useState","upi","setUpi","setError","setLoading","submitted","setSubmitted","stats","setStats","useEffect","fetchDetails","fetchStats","async","res","fetch","data","json","success","message","loot_title","client_name","max_amount","onSubmit","e","preventDefault","trim","method","headers","body","JSON","stringify","referral_code","upi_id","Error","toast","setTimeout","window","location","href","redirect_url","err","value","onChange","target","autoFocus","total_referrals","total_amount"],"sourceRoot":""}