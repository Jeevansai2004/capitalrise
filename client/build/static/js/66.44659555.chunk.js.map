{"version":3,"file":"static/js/66.44659555.chunk.js","mappings":"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","sources":["pages/Login.js","components/Button.js","components/Input.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Input from '../components/Input';\r\nimport Button from '../components/Button';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport toast from 'react-hot-toast';\r\n\r\nexport default function Login() {\r\n  const auth = useAuth();\r\n  const navigate = useNavigate();\r\n  const [form, setForm] = useState({ email: '', password: '' });\r\n  const [errors, setErrors] = useState({});\r\n  const [loading, setLoading] = useState(false);\r\n  \r\n  // Show loading if auth is not ready\r\n  if (auth.loading) {\r\n    return <div className=\"flex items-center justify-center min-h-screen\">Loading...</div>;\r\n  }\r\n  \r\n  const { login } = auth;\r\n\r\n  const handleChange = e => {\r\n    if (e && e.target && e.target.name) {\r\n      setForm(f => ({ ...f, [e.target.name]: e.target.value }));\r\n      setErrors(err => ({ ...err, [e.target.name]: '' }));\r\n    }\r\n  };\r\n\r\n  const validate = () => {\r\n    const errs = {};\r\n    if (!form.email) errs.email = 'Email is required';\r\n    if (!form.password) errs.password = 'Password is required';\r\n    return errs;\r\n  };\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    const errs = validate();\r\n    if (Object.keys(errs).length) return setErrors(errs);\r\n    setLoading(true);\r\n    try {\r\n      const res = await fetch('/api/auth/login', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(form),\r\n      });\r\n      const data = await res.json();\r\n      if (!data.success) throw new Error(data.message);\r\n      login(data.data.token, data.data.user);\r\n      toast.success('Login successful!');\r\n      if (data.data.user.role === 'admin') navigate('/admin');\r\n      else navigate('/dashboard');\r\n    } catch (err) {\r\n      toast.error(err.message || 'Login failed');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-center justify-center min-h-screen\">\r\n      <form onSubmit={handleSubmit} className=\"w-full max-w-sm bg-white p-8 rounded shadow\">\r\n        <h1 className=\"text-3xl font-bold mb-6 text-center\">Login</h1>\r\n        <Input\r\n          label=\"Email\"\r\n          name=\"email\"\r\n          type=\"email\"\r\n          value={form.email}\r\n          onChange={handleChange}\r\n          error={errors.email}\r\n          autoComplete=\"email\"\r\n        />\r\n        <Input\r\n          label=\"Password\"\r\n          name=\"password\"\r\n          type=\"password\"\r\n          value={form.password}\r\n          onChange={handleChange}\r\n          error={errors.password}\r\n          autoComplete=\"current-password\"\r\n        />\r\n        <Button type=\"submit\" loading={loading} className=\"w-full mt-2\">Login</Button>\r\n        <div className=\"text-center mt-4 text-sm\">\r\n          Don&apos;t have an account? <a href=\"/register\" className=\"text-primary-600 hover:underline\">Register</a>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n} ","import React from 'react';\r\n\r\nexport default function Button({\r\n  children,\r\n  type = 'button',\r\n  variant = 'primary',\r\n  loading = false,\r\n  className = '',\r\n  size = 'md',\r\n  ...props\r\n}) {\r\n  const sizeClasses = {\r\n    sm: 'px-2 py-1 text-xs',\r\n    md: 'px-4 py-2 text-sm',\r\n    lg: 'px-6 py-3 text-base'\r\n  };\r\n\r\n  return (\r\n    <button\r\n      type={type}\r\n      className={`btn btn-${variant} ${sizeClasses[size]} ${className}`}\r\n      disabled={loading || props.disabled}\r\n      {...props}\r\n    >\r\n      {loading ? (\r\n        <span className=\"animate-spin mr-2\">‚è≥</span>\r\n      ) : null}\r\n      {children}\r\n    </button>\r\n  );\r\n} ","import React from 'react';\r\n\r\nexport default function Input({ label, error, className = '', name, ...props }) {\r\n  return (\r\n    <div className={`mb-4 ${className}`}>\r\n      {label && <label className=\"block text-sm font-medium mb-1\">{label}</label>}\r\n      <input\r\n        name={name}\r\n        {...props}\r\n        className={`input ${error ? 'border-danger-500' : ''}`}\r\n      />\r\n      {error && <p className=\"text-danger-600 text-xs mt-1\">{error}</p>}\r\n    </div>\r\n  );\r\n} "],"names":["Login","auth","useAuth","navigate","useNavigate","form","setForm","useState","email","password","errors","setErrors","loading","setLoading","_jsx","className","children","login","handleChange","e","target","name","f","value","err","_jsxs","onSubmit","async","preventDefault","errs","validate","Object","keys","length","res","fetch","method","headers","body","JSON","stringify","data","json","success","Error","message","token","user","toast","role","error","Input","label","type","onChange","autoComplete","Button","href","_ref","variant","size","props","sm","md","lg","disabled"],"sourceRoot":""}